<!DOCTYPE html>
<html>
    <head>
        <script src="{{ static_url('js/jquery-1.8.0.min.js') }}"></script>
        
        <script type="text/javascript">
            var ws = new WebSocket("ws://localhost:8000/chat");
            ws.onmessage = function(event) {
                //console.log(event);
                $('#msgBox').append(JSON.parse(event.data)["message"]);  
                $('#msgBox').append('</br>');

                //滚动条自动向下
                var e = document.getElementById("msgBox");
                e.scrollTop = e.scrollHeight;
            }
            function send1() {
                //如果要向某个客户端发送消息：某个客户端的id`内容
                ws.send($("#chat").val());
                $("#chat").val("");
            }
        </script>
    </head>

    <body>
        <div></div>
        <div id="msgBox" style="width:400px;height:300px;border:1px solid #000000;overflow: auto;"></div>
        
        <div>
            hello
            <input id="chat">
            <button  onclick="send1()">send</button>
        </div>	
     
    </body>
</html>